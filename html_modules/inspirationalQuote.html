<head>

<link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
<style type="text/css">
    .main {
        width: 740px;
        margin: auto;
        background: white;
        padding: 20px;
        font-family: 'Abel', sans-serif;
        font-size: 150%;
        line-height: 200%;
    }
    p.left {
        width: 70px;
        float: left;
        font-size: 500%;
        font-family: Times;
        opacity: 0.5;
        margin-bottom: 0;
    }
    p.midd {
        width: 500px;
        float: left;
        margin-bottom: 0;
    }
    p.attr {
        width: 400px;
        float: left;
        text-align: right;
    }
    p.rite {
        width: 70px;
        float: left;
        text-align: right;
        font-size: 500%;
        font-family: Times;
        opacity: 0.5;
        margin-bottom: 0;
    }
    #quote {
        font-size: 240%;
        margin-bottom: 0;
    }
    .midd {
        font-family: 'Abel', sans-serif !important;
        font-size: 180%;
        margin-bottom: 0;
    }
    .attr {
        font-family: 'Abel', sans-serif !important;
        font-size: 180%
    }
    textarea#QualTextArea {
        width: 620px;
        height: 200px;
        border: 5px solid #cccccc;
        padding: 5px;
        font-family: 'Abel', sans-serif;
        background-image: url(bg.gif);
        background-position: bottom right;
        background-repeat: no-repeat;
        font-size: 25px;
        line-height: 150%;
    }
</style>
  
    <script>

        function loadScript(url, callback)
        {
            // Adding the script tag to the head as suggested before
            var head = document.head;
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = url;

            // Then bind the event to the callback function.
            // There are several events for cross browser compatibility.
            script.onreadystatechange = callback;
            script.onload = callback;

            // Fire the loading
            head.appendChild(script);
        }

        var getQuote = function () {

            var fullQuote; 

            var url = window.location.href;
            var split = url.split("/");
            var week = split[6];

            // Read goals from mapped.js static file
            for (var i=0; i < mapped.length; i++) {
                if(mapped[i][0] == week) {
                    fullQuote = mapped[i][4];
                }
            }

            var index = fullQuote.lastIndexOf("-");
            var quote = fullQuote.substring(0, index);
            var source = fullQuote.substring(index, fullQuote.length());

            var textNode = document.createElement("P");
            textNode.innerHTML = quote;
            textNode.className = "midd QualTextArea";
            document.getElementById("quoteText").appendChild(textNode);

            var textNode2 = document.createElement("P");
            textNode2.innerHTML = source;
            textNode2.className = "attr";
            document.getElementById("sourceText").appendChild(textNode2);
        };

    </script>

</head>

<!-- HTML Content for the quality applet -->
<body>

<div id="inspirationalQuote">
        <main class="main">
            <p class="left" id="quote">&ldquo;</p>
            <div id="quoteText">
                <script>
                    loadScript("/static/mapped.js", getQuote);
                </script>
            </div>
            <p class="rite" id="quote">&rdquo;</p>
            <p class="left"></p>
            <div id="sourceText">
            </div>
            <footer></footer>
        </main>

</div>
</body>
